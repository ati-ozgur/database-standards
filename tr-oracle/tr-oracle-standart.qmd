# Karkas Oracle veri tabanı standartları

## Kurulum Notları Collation

Oracle veritabanı kurulurken, character set olarak AL32UTF8 seçilmelidir.
[Choosing Unicode as a Database Character Set in Globalization Support Guide](https://docs.oracle.com/en/database/oracle/oracle-database/12.2/nlspg/choosing-character-set.html) dokumanında oracle, her yeni veritabanı için unicode kullanılmasını tavsiye ediyor.

> Oracle recommends using Unicode for all new system deployments. Migrating legacy systems to Unicode is also recommended. Deploying your systems today in Unicode offers many advantages in usability, compatibility, and extensibility. 



{{< include ./sema.md >}}

{{< include ./isimlendirme.md >}}

{{< include ./veri-yapilari.md >}}


  
## Yazılım Geliştirme Yetkileri

Yazılım geliştiriciler için sınırlı yetkili veri tabanı kullanıcılar açılması ve SQL Sever Management Studio üzerinde işlem yapılırken bu  kullanıcılar ile sisteme girilmesi.düşünülmelidir.
En doğrusu yazılım geliştirici kullanıcılarının bir role atanması ve bu rolün kısıtlanması olabilir.

  	 
## Stored Procedures - Functions

Yazılım geliştiriciler Stored Procedure yazma gereksinimi duyarlarsa bunu veritabanı yöneticisi ve takım liderlerinin onayını	aldıktan sonra yapabileceklerdir.
Veri tabanında mümkün olduğunca stored procedure ve trigger olmamalı, bunların yerine .NET kodları ile çözüm bulunmaya çalışılmalıdır.

Stored procedure, function ve trigger'lar için macar notasyonu kullanıp kullanılmayacağına başta karar verilmelidir.
Yazılım geliştirme araçlarının daha gelişmiş olması sebebi ile artık macar notasyonuna olan ihtiyaç azalmıştır.
Ama eğer macar notasyonu kullanıyorsanız: 
Stored Procudures usp_ ile, functionlar ufn_ ile, triggerler ise utnX_ ile başlamalıdır (X-->;i:insert, u:update, d:delete).

Note: eğer bir stored Procedure sp veya xp ile başlarsa SQL server bunun System stored procedure'u olduğunu düşündüğü için ilk önce master veritabanında arayacaktır. 
  
  
## İsimlendirme Konvansiyonu
  
### İsimlendirme Konvansiyonu - Stored Procedure - Gömülü Yordamlar

Stored Procudure'lara isim verirken modül/ ana tablo ismi + yaptığı işlem şeklinde isim verin.
    
- Modül Ismi + yaptığı iş 
- PersonelAraAdiVeSoyadiIle 
- Personel_Oku_Tum 
- MuhasebeYillikMizanHesapla
- BordroAylikBordroHesapla


Not bu isimler örnek olsun diye verilmiştir. 
Veritabanında basit CRUD ve arama işlemleri için stored procedure olmamalıdır.

### İsimlendirme Konvansiyonu - Table and View-Tablo ve Görüntü


- INSAN_KAYNAKLARI.MUSTERI 
- TANIM_TABLOLARI.NUFUS_CUZDANI_VERILIS_NEDENI



Tablo ve görüntülere (view) ayrı isimler vermiyoruz.
Bunun nedeni ihtiyaça göre tablo veya görüntünün değiştirilebilmesine izin vermektir.
Örneğin çok kullanılan bir view, tablo yapılabilir.
Yada bilgiler daha farklı tutulduğu için eski bir tablo, view yapılabilir.
Bu tür durumlarda isim aynı kaldığı için istemci programları sorunsuz çalışacaktır.


### İsimlendirme Konvansiyonu - Column-Kolon

Her kelimenin ilk harfi büyük yazılır. 

- MusteriKey 
- SonDegistirmeTarihi
- TipNo
- MusteriKey


### İsimlendirme Konvansiyonu - Index

IX_TabloIsmi_KolonIsimleri  veya UQ_TabloIsmi_KolonIsimleri şeklinde kullanılmalıdır.
Her kelimenin ilk harfi büyük yazılır.
Unique indexler UQ ile başlarken, diğer indexler IX ile başlamalıdır.

 
- IX_Musteri_MusteriNo
- IX_Satislar_TipNo
- IX_Satislar_MusteriKey
- UQ_Musteri_VergiNo

### İsimlendirme Konvansiyonu - Yabancı anahtar (Foreign key)

- FK_TabloIsmi1KolonIsmi1FK_TabloIsmi2KolonIsmi2 
- FK_MusteriMusteriNoSiparisMusteriNo

Her kelimenin ilk harfi büyük yazılır. 


### İsimlendirme Konvansiyonu - Default - Varsayılan

- DF_
- DF_PERSONEL_IlkGirisTarihi 


SQL Server DF veriyor.
Management Studio icinde Default'ları verirseniz, İsimlendirme düzgün olur. 

### İsimlendirme Konvansiyonu - Constraint 

- CK_
- CK_OKUL_BILGILERI_GirisSenesi  

  

SQL Server CK veriyor. 
Management Studio icinde Constarint yazarsanız, İsimlendirme düzgün olur.
  
### İsimlendirme Konvansiyonu - Trigger - Tetikleyici  

utrX + Tablo Ismi, yerine triggerin hangi işlem için olduğunu söyleyen bir kelime gelicektir. 

- utrX_ + tablo ismi + islem (insert (i), update (u), delete (d))
- utrX_ORTAK_KISI_Delete
  

{{< include ./application-user.md >}}

{{< include ./duzenleme-gecmis.md >}}

